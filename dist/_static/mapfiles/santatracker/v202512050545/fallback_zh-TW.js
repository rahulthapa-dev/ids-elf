!function(){function e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function t(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function n(e){return function(){var n=this,r=arguments;return new Promise(function(o,a){var i=e.apply(n,r);function s(e){t(i,o,a,s,c,"next",e)}function c(e){t(i,o,a,s,c,"throw",e)}s(void 0)})}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var a=!1;try{new CSSStyleSheet,a="adoptedStyleSheets"in ShadowRoot.prototype}catch(e){}if(a)Object.defineProperty(CSSStyleSheet.prototype,"styleSheet",{get:function(){return this}});else{window.CSSStyleSheetConstructor=function(){function e(e){if(e)throw new DOMException("NotSupportedError");this._cssText=null}var t=e.prototype;return t.replaceSync=function(e){if(null!==this._cssText)throw new DOMException("NotAllowedException","polyfill supports single replaceSync()");this._cssText=String(e)},t.replace=function(){throw new DOMException("NotSupportedError")},t.insertRule=function(){throw new DOMException("NotSupportedError")},t.deleteRule=function(){throw new DOMException("NotSupportedError")},o(e,[{key:"cssText",get:function(){return this._cssText}}]),e}();var i=Symbol("instantiated");var s=Symbol("adopted"),c={get:function(){return this[s]||[]},set:function(e){if(this[s])throw new DOMException("NotSupportedError","can only set adopted once");if(e&&e.length){this[s]=e,this[i]=e.map(function(e){if(!(e instanceof window.CSSStyleSheetConstructor))throw new Error("unsupported adopted type: "+e);if(null===e.cssText)throw new Error("cannot adopt uninstantiated CSSStyleSheet");var t=document.createElement("style");return t.textContent=e.cssText,t});var t=this===document?document.head:this,n=function(e){for(var t=this[i]||[],n=e.childNodes.length>=t.length,r=0;n&&r<t.length;++r)e.childNodes[r]!==t[r]&&(n=!1);if(!n){t.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)});var o=e.firstChild;this[i].forEach(function(t){return e.insertBefore(t,o)})}}.bind(this,t),r=new MutationObserver(n);try{r.observe(this,{childList:!0})}catch(e){console.warn("failed to observe",this,"for adoptedStyleSheets",e)}n()}}};Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",c),Object.defineProperty(HTMLDocument.prototype,"adoptedStyleSheets",c)}var u=new(window.CSSStyleSheetConstructor||CSSStyleSheet);u.replaceSync("body,html{height:100%;overflow:hidden}html{background:#000}*{touch-action:pan-x pan-y}body{margin:0;touch-action:pan-x pan-y;-webkit-overflow-scrolling:touch;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;user-select:none;-webkit-user-select:none;background:#1a844b;--color-bar: #ff3333}body[data-mode=android]{--color-bar: #32a658}.loader{will-change:transform;transition:transform 1s ease-in-out,opacity .5s 3.5s ease-in-out;z-index:601;pointer-events:none}body:not(.loaded) .loader{z-index:1001}body:not(.loading) .loader{transform:translateY(-100vh);opacity:0;transition-delay:0s}santa-interlude{z-index:600}santa-error{width:100%;height:100%;display:block}body:not(.loaded) santa-interlude{z-index:1000}.notices{position:fixed;bottom:0;right:0;min-width:288px;z-index:800}.notices santa-notice{margin:16px}");var d=new(window.CSSStyleSheetConstructor||CSSStyleSheet);d.replaceSync('body,html{height:100%}iframe{position:fixed;top:0;left:0;right:0;bottom:0;border:0;transition:filter .33s,transform .33s;z-index:1000;width:100%;height:100%}iframe[tabindex]{filter:grayscale(70%) brightness(0.5) blur(4px);transform:scale(1.05);opacity:0}iframe.unload{z-index:1010;opacity:1}iframe.unload.gone{transition:opacity .125s ease-out;opacity:0}iframe.unload.gone+iframe[tabindex]{opacity:1}body:not(.loaded) iframe[tabindex]{opacity:0 !important}button.home{border-radius:1000px;background:#f33;position:fixed;top:16px;left:24px;width:48px;height:48px;border:none;z-index:1100;cursor:pointer;border:2px solid transparent;box-shadow:0 0 0 4px rgba(0,0,0,.125);transition:box-shadow .25s,transform .25s ease-in-out;will-change:box-shadow,transform;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTAgMjB2LTZoNHY2aDV2LThoM0wxMiAzIDIgMTJoM3Y4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=");background-position:center;background-repeat:no-repeat}button.home:hover{box-shadow:0 0 0 8px rgba(0,0,0,.09)}button.home:focus{outline:0;border-color:rgba(0,0,0,.25)}button.home[disabled]{transform:translate(-150px)}.error{visibility:hidden;position:fixed;top:0;left:0;right:0;bottom:0;z-index:800;background:url(https://maps.gstatic.com/mapfiles/santatracker/v202512050545/img/error.svg) bottom center no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center}.error::after{content:"";position:relative;width:250px;height:250px;box-shadow:rgba(0,0,0,.125) 4px 14px 0px;box-sizing:border-box;border-radius:10000px;background:url(https://maps.gstatic.com/mapfiles/santatracker/v202512050545/img/snowman.png) center center/contain no-repeat #7ec6e5;overflow:hidden}body.loaded .error{transition:visibility .25s step-end;visibility:visible}');var l,p="data:text/html;base64,",f=function(){function e(){}var t=e.prototype;return t.unload=function(){var e=n(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.prepare=function(){var e=n(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.ready=function(){var e=n(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),h=function(){function e(e,t){void 0===t&&(t=new f),this._container=e,this._handler=t,this._disabled=!1,this._activeFrame=this.constructor.createFrame(p),this._activeHref=null,this._previousFrame=null,this._previousFrameUnload=null,this._preemptHandler=null,this._container.appendChild(this._activeFrame)}e.timeout=function(){return 4e3},e.createFrame=function(e){var t=document.createElement("iframe");return t.src=e,t.setAttribute("sandbox","allow-forms allow-same-origin allow-scripts allow-popups allow-top-navigation allow-top-navigation-by-user-activation allow-downloads"),t.setAttribute("allow","autoplay"),t.setAttribute("referrerpolicy","no-referrer-when-downgrade"),t},e.unhandledLoad=function(e,t){e.contentWindow.location.replace(p)},e.disableFrame=function(e){document.activeElement===e&&window.focus(),e.setAttribute("tabindex","-1"),e.style.pointerEvents="none"},e.enableFrame=function(e){e.removeAttribute("tabindex"),e.style.pointerEvents=""};var t=e.prototype;return t.load=function(){var e=n(regeneratorRuntime.mark(function e(t,n){var r,o,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._previousFrame?(this._preemptHandler(),this._container.removeChild(this._activeFrame)):(this.constructor.disableFrame(this._activeFrame),this._activeFrame.removeAttribute("disabled"),this._previousFrame=this._activeFrame,this._previousFrameUnload=this._handler.unload(this._previousFrame,this._activeHref),this._previousFrameUnload.then(function(){return i._container.removeChild(i._previousFrame)})),r=this.constructor.createFrame(t||p),this.constructor.disableFrame(r),this._disabled&&r.setAttribute("disabled",""),this._container.appendChild(r),this._activeFrame=r,this._activeHref=t,o=this._handler.prepare(r,t,n),e.next=10,new Promise(function(e,n){var s=i._previousFrameUnload,c=!1,u=window.setTimeout(function(){var e=new XMLHttpRequest,n=function t(){e.abort(),e.onreadystatechange=null,r.removeEventListener("load",t),!c&&r.parentNode&&r.contentWindow.location.replace(p)};r.addEventListener("load",n);var o=0;e.onreadystatechange=function(){4!==e.readyState?(window.clearTimeout(o),o=window.setTimeout(n,i.constructor.timeout())):n()},e.open("GET",t),e.send()},i.constructor.timeout()),d=function(e){e.target===r&&(l(),window.setTimeout(function(){if(!c){var e=new CustomEvent("load");r.dispatchEvent(e)}},i.constructor.timeout()))};function l(){window.removeEventListener("DOMFrameContentLoaded",d),window.clearTimeout(u)}i._preemptHandler=function(){l(),e(!0)},window.addEventListener("DOMFrameContentLoaded",d),r.addEventListener("load",function u(){if(!c)return l(),c=!0,Promise.resolve().then(function(){return s}).then(function(){return o.then(function(e){return a=e,e})}).then(function(){return e(!1)}).catch(n);r.removeEventListener("load",u),i.constructor.unhandledLoad(r,t)})});case 10:if(!e.sent){e.next=13;break}return e.abrupt("return",void 0);case 13:return this._disabled||this.constructor.enableFrame(r),this._previousFrame=null,this._previousFrameUnload=null,this._preemptHandler=null,e.abrupt("return",this._handler.ready(r,t,a));case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.focus=function(){this._activeFrame.hasAttribute("tabindex")||this._activeFrame.focus()},o(e,[{key:"isLoading",get:function(){return null!==this._previousFrame}},{key:"href",get:function(){return this._activeHref}},{key:"disabled",set:function(e){this._disabled=e,e?(this.constructor.disableFrame(this._activeFrame),this._activeFrame.setAttribute("disabled","")):this.isLoading||(this.constructor.enableFrame(this._activeFrame),this._activeFrame.removeAttribute("disabled",""))},get:function(){return this._disabled}},{key:"hasFocus",get:function(){return document.activeElement===this._activeFrame}}]),e}();function m(e,t){void 0===t&&(t=1e4);var n=function(){var e;return{promise:new Promise(function(t){e=t}),resolve:e}}(),r=n.promise,o=n.resolve,a=function(t){t.source===e.contentWindow&&o(t.data)};return window.addEventListener("message",a),e.addEventListener("load",function(){window.setTimeout(function(){return o(void 0)},t)}),r.catch(function(){return null}).then(function(){window.removeEventListener("message",a)}),r}try{l=window.localStorage}catch(e){l=null}var v=l=l||{},w=window.firebase.remoteConfig(),g=new Set,b={videos:[],sceneLock:{},sceneRedirect:{},nav:[],featured:{}},y="santatracker.google.com"===window.location.hostname;function x(){var e=window.santaConfig.version,t=w.getString("upgradeToVersion");!t||t<e?delete v.upgradeToVersion:(console.warn("got out-of-date version, have",e,"want",t),y&&v.upgradeToVersion!==t?(gtag("event","site",{action:"upgrade-attempt",label:t}),v.upgradeToVersion=t,window.location.href=window.location.href):(gtag("event","site",{action:"upgrade-warn",label:t}),k()))}function S(){for(var e in b){var t=void 0;try{t=JSON.parse(w.getString(e))}catch(e){continue}b[e]=Object.freeze(t)}}function _(e,t){return void 0===t&&(t=0),Math.pow(1+e*Math.random(),t+1)-e/2}function k(){var e=new Object;g.forEach(function(t){Promise.resolve().then(function(){return t(e)})})}function E(e){return L.apply(this,arguments)}function L(){return(L=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),t&&(w.settings.minimumFetchIntervalMillis=0),e.next=4,w.fetchAndActivate();case 4:return S(),x(),k(),e.abrupt("return",w.getAll());case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){if(!e||"index"===e)return function(e){return w.getString(e?"fallbackIndexScene":"indexScene")||"index"}(t);if(function(e){var t=b.sceneLock;if(!(e in t))return!1;var n=t[e];if(!n)return!0;var r=new Date;if(10===r.getMonth())return!0;if(11!==r.getMonth())return!1;return n>r.getDate()}(e)){if(y)return null;console.debug("failing open for scene locked in prod",e)}return-1!==b.videos.indexOf(e)?"video":e}x(),window._check=x,S(),function(){var e=0,t=0;function r(){return(r=n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E();case 3:e=0,t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),++e,console.warn("failed to refresh Remote Config",err);case 10:o();case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function o(){var n=1e3*Math.max(60,w.getNumber("refreshEvery")||0)*_(.2,e);window.clearTimeout(t),w.settings.minimumFetchIntervalMillis=n/2;var o=window.setTimeout(function(){window.requestAnimationFrame(function(){o===t&&function(){r.apply(this,arguments)}()})},n);t=o}o()}(),function(){var e=(new Date).toDateString();!function t(){var n,r=6e4*_(.2);(n=r,void 0===n&&(n=-1),n>=0?new Promise(function(e){window.setTimeout(function(){return window.requestAnimationFrame(function(){return e()})},n)}):new Promise(function(e){return window.requestAnimationFrame(function(){return e()})})).then(t);var o=(new Date).toDateString();o!==e&&(e=o,k())}()}();var R={"":"Google 聖誕老人追蹤器",airport:"北極機場",blimp:"禮物補充",boatload:"禮物彈弓",briefing:"聖誕老婆婆的行前叮嚀",build:"禮物大作戰",buildandbolt:"禮物大作戰",carpool:"精靈尬車",citylights:"城市之光",codeboogie:"程式碼之舞力全開",codelab:"程式碼實驗室",commandcentre:"任務控管中心",comroom:"指揮室",elfmaker:"精靈製造機",elfski:"精靈滑雪板",factory:"糖果工廠",familyguide:"家庭版指南",glider:"精靈宅急便",gumball:"口香糖球掉下來",holidayslopes:"精靈滑雪板",icecave:"冰洞",island:"熱帶島嶼",jamband:"搖滾精靈樂",jetpack:"精靈飛俠",jingle:"手舞足蹈的精靈",latlong:"禮品快遞",liftoff:"聖誕老人出發了",likealight:"夜班精靈上工囉",matching:"翻牌配對",mercator:"地圖小測驗",museum:"博物館一日遊",office:"辦公室惡作劇",onvacation:"休假中",penguindash:"企鵝向前衝",penguinproof:"企鵝絕對猜不到的密碼",playground:"北極遊樂場",poseboogie:"扭腰擺臀",postcard:"聖誕老人明信片",presentbounce:"彈跳小禮物",presentdrop:"禮物直直落",racer:"飆風馴鹿",reindeerworries:"聖誕老人不見了",railroad:"鐵道送禮之旅",reload:"禮物補充",rollercoaster:"精靈雲霄飛車",runner:"「鹿」跑有禮",santasback:"聖誕老人回來了",santascanvas:"聖誕老人的畫布",santasearch:"聖誕老人在哪裡？",santaselfie:"聖誕老人自拍照",satellite:"衛星",seasonofgiving:"溫馨分享季",selfies:"聖誕老人的自拍照",slackingoff:"偷懶",smatch:"禮物快遞",snowball:"雪球大戰",snowbox:"雪箱",snowflake:"使用程式碼設計雪花",speedsketch:"快手小畫家",streetview:"街景模式",storybook:"海中的奧利",takeoff:"啟程",temptation:"擋不住的誘惑",tired:"疲憊的馴鹿",tracker:"追蹤聖誕老人",traditions:"各地節日習俗",translations:"翻譯",underconstruction:"施工中",undersea:"海底",village:"聖誕老人村",yulelog:"聖誕節原木",wheressanta:"聖誕老人在哪裡？",windtunnel:"風洞",workshop:"聖誕老人工作坊",wrapbattle:"包裝快手","@cityquiz":"城市猜猜樂","@dasherdancer":"馴鹿練舞功","@penguinswim":"企鵝游泳大賽","@presenttoss":"禮物丟丟樂","@rocketsleigh":"火箭雪橇","@snowballrun":"雪球大暴走","@tracker":"追蹤聖誕老人"},C=document.documentElement.lang,M="index"+(C?"_"+C:"")+".html";function A(e,t,n,r){if(!e)return null;r&&"#"!==r[0]&&(r="#"+r);var o=new URLSearchParams;t&&o.set("fallback","1"),o.set("route",n),o.set("referrer",window.location.origin+window.location.pathname);var a="?"+o.toString();return function(e){for(var t=new URL(e,window.location),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(;r.length;){var a=String(r.shift());!a.endsWith("/")&&r.length&&(a+="/"),t=new URL(a,t)}return t.toString()}("https://maps.gstatic.com/mapfiles/santatracker/v202512050545/src/core/loader.js","../../scenes",e,M)+a+(r||"")}function I(e){var t={};return(e||"").substr(1).split("&").forEach(function(e){var n=e.split("="),r=decodeURIComponent(n[0]||"");!r||r in t||(t[r]=decodeURIComponent(n[1]||""))}),t}var P,T,U="__santa-go",D=(P=[],T=null,function(){P.push.apply(P,arguments),null===T&&arguments.length&&(T=Promise.resolve().then(function(){T=null;var e=P.splice(0,P.length),t=new CustomEvent("__santa-preload",{detail:e});window.dispatchEvent(t)}))});Object.freeze({wait:D,images:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.map(function(t){var n=new Image;n.src=t;var r=new Promise(function(e,t){n.onload=function(){return e(n)},n.onerror=t});return e.push(r.catch(function(){return n})),r});return D.apply(void 0,o),e},assets:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){var t,n="load";if("string"==typeof e)(t=new Image).src=e;else if(e instanceof Image)t=e;else{if(!(e instanceof HTMLMediaElement))return Promise.resolve();t=e,n="canplaythrough"}return new Promise(function(e,r){t.addEventListener(n,function(){return e(t)},{once:!0}),t.addEventListener("error",r,{once:!0})})});D.apply(void 0,r)},sounds:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new CustomEvent("__santa-klang-preload",{detail:t});window.dispatchEvent(r)}});var j,N=(j=function(){var e;try{e=new URLSearchParams(window.location.search)}catch(e){}return e&&e.has("referrer")?e.get("referrer"):document.referrer}(),window.top!=window&&j?{scope:new URL("./",j).toString(),page:j}:{scope:new URL("./",window.location).toString(),page:window.location.href}),O=N.page,z=function(e){var t=new URL(e),n=new URL(t.hash,O);return t.toString()===n.toString()?t.hash:null};var H=/^\/?(?:|(@?\w+)\.html)$/,Z=function(e){return JSON.parse(JSON.stringify(e))};function G(e){var t=e&&e.pathname||"/";return t.startsWith("/")?t:"/"+t}function W(e){return String(e||"").toLowerCase().replace(/[^\w]/g,"")}function J(e){var t=void 0;if("@"===e[0]?t=e.substr(1):"android"===document.body.getAttribute("data-mode")&&("jetpack"===e||"gumball"===e?t=e:"matching"===e&&(t="memory")),!t)return!1;console.info("loading Android route",t);var n=window.location.hostname;return window.location="com.google.android.apps.santatracker://"+n+"/android/"+t,!0}var V=Event.prototype.composedPath?function(e){var t=e.composedPath();t.reverse();var n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a;if("a"===i.localName&&i.href)return new URL(i.href)}return null}:function(e){var t=e.target.closest("a[href]");return t?new URL(t.href):null};document.adoptedStyleSheets=[u,d];var q=document.createElement("audio");q.src="https://maps.gstatic.com/mapfiles/santatracker/v202512050545/fallback-audio/village_retro_music_r2.mp3",q.loop=!0,q.autoplay=!0,document.body.append(q);var B=document.createElement("button");B.className="home",B.disabled=!0,document.body.append(B);var Y=document.createElement("div");Y.className="error",document.body.append(Y);var K=new(function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.timeout=function(){return 1e4},n}(h))(document.body,new(function(t){function r(){var e;return(e=t.call(this)||this)._resolveUnload=function(){},e}e(r,t);var o=r.prototype;return o.unload=function(e,t){var n=this;return e.classList.add("unload"),this._resolveUnload(),new Promise(function(e){return n._resolveUnload=e}).then(function(){return e.classList.add("gone"),new Promise(function(e){return window.setTimeout(e,125)})})},o.prepare=function(){var e=n(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:if((o=e.sent)instanceof MessagePort){e.next=6;break}return this._resolveUnload(),e.abrupt("return",null);case 6:return o.postMessage({type:"data",payload:r}),e.next=9,new Promise(function(e){var t=1;o.onmessage=function(n){var r=n.data,o=r.type,a=r.payload;switch(o){case"config":--t;break;case"tasks":t+=a;break;default:return}t<=0&&e()}});case 9:return this._resolveUnload(),e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),o.ready=function(e,t,n){return document.body.classList.add("loaded"),null===n||function(e){var t={};e.postMessage({type:"ready"}),e.postMessage({type:"resume"}),e.onmessage=function(e){var n=e.data,r=n.type,o=n.payload;switch(r){case"score":return void(t=o);case"gameover":return console.warn("got gameover",t),void $("");case"ga":return void ga.apply(null,o);case"go":return void $(o);case"data":return void ee(o)}}}(n),!0},r}(f))),X=function(e){if(window.santaApp.go)throw new Error("cannot configureProdRouter twice");var t=function(e){var t=I(e.search),n=G(e),r=n.match(/^\/\w+-\w{24,30}\//);r&&(n=n.substr(r[0].length-1));var o=t.hl||"";-1!==o.indexOf("_")&&(o=""),delete t.hl;var a=n.match(/^\/intl\/([-\w]+?)(?:|_[-_\w]+)\//),i=a&&a[1]||o||null;a&&(n="/"+n.substr(a[0].length));var s,c=H.exec(n),u=W(c&&c[1]),d=e.origin+"/";return i&&(d+="intl/"+((s=(i||"").split("-"))[0]=s[0].toLowerCase(),s.length>=2&&(s[1]=s[1].toUpperCase()),s.join("-"))+"/"),{scope:d,route:u,data:t,hash:e.hash||""}}(window.location),n=window.history,r=null,o=function(o,a){var i=o.route,s=o.data,c=o.hash;void 0===a&&(a=!1),s=Z(s);var u=e(i,s,c);void 0!==u&&(i=u);var d,l,p=t.scope+(i?i+".html":"")+(d=s,(l=Object.keys(d||{})).length?"?"+l.map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(d[e])}).join("&"):"")+(c||""),f={route:i,data:s,hash:c};!a||n.state&&n.state.route===i?p!==window.location.href&&(a=!1):n.pushState(f,null,p),a||n.replaceState(f,null,p),r=f};return window.addEventListener("popstate",function(){var e=n.state||r;n.state||(e.hash=window.location.hash||""),o(e)}),o(t),Object.assign(window.santaApp,{get route(){return n.state&&n.state.route},set route(e){this.go(e)},go:function(e,t){if(void 0===t&&(t={}),J(e))return!1;var n=e.split("#",1),r=e.substr(n[0].length);e=n[0],o({route:W(e),data:t,hash:r},!0)}}),window.addEventListener(U,function(e){window.santaApp.go(e.detail||"")}),{scope:t.scope,go:santaApp.go,write:function(e){o({route:n.state.route,data:e},!1)}}}(function(e,t){void 0===t&&(t=!1);var n,r=void 0,o=void 0,a=function(n,a,i){var s=function(e){return e in b.sceneRedirect?b.sceneRedirect[e]:"index"===e?"":void 0}(n);void 0!==s&&(n=s),"index"===n&&(n=""),r=n;var c=F(n,t);if(o===c)return s;var u=A(c,t,n,i);return o=c,window.dispatchEvent(new CustomEvent("loader-route",{detail:n})),gtag("event","page_view",{page_title:c,page_location:"/"+n}),e(u,{route:n,data:a,locked:null===o}).then(function(e){document.title=R[n]||"聖誕老人追蹤器"}),s};return n=function(){return a(r)},g.add(n),a}(function(e,t){var n=t.route,r=t.data;t.locked;return B.disabled=!n,K.load(e,r)},!0)),Q=X.scope,$=X.go,ee=X.write;document.body.addEventListener("click",function(e,t){return function(n){if(n.ctrlKey||n.metaKey||n.which>1)return!1;var r=V(n);if(null===r||!r.toString().startsWith(e))return!1;var o=G(r).substr(e.length-r.origin.length-1),a=H.exec(o);if(!a)return!1;var i=z(r);if(null!==i){n.preventDefault();var s=document.createElement("a");return s.href=i,s.click(),t((a[1]||"")+i),!1}var c=I(r.search);return t(a[1]||"",c),n.preventDefault(),!0}}(Q,$)),B.addEventListener("click",function(e){return $("")})}();